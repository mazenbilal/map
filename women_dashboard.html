<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>لوحة النساء في سوريا</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Cairo', sans-serif;
            background: #fff;
            padding: 15px;
            line-height: 1.6;
            color: #333;
        }
        
        .container {
            max-width: 100%;
            margin: 0 auto;
        }
        
        .card {
            background: white;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            border: 1px solid #f0f0f0;
        }
        
        .stat-card {
            text-align: center;
            padding: 25px 15px;
        }
        
        .stat-number {
            font-size: 3.5rem;
            font-weight: bold;
            color: #d90429;
            margin: 10px 0;
        }
        
        .stat-title {
            font-size: 1.2rem;
            color: #555;
            margin-bottom: 5px;
        }
        
        .stat-subtitle {
            font-size: 0.9rem;
            color: #888;
        }
        
        .chart-container {
            position: relative;
            height: 300px;
            width: 100%;
        }
        
        .note {
            font-size: 12px;
            color: gray;
            text-align: right;
            margin: 20px 0;
            padding: 10px;
            background: #f9f9f9;
            border-radius: 5px;
            border-right: 3px solid #d90429;
        }
        
        h2 {
            margin-bottom: 15px;
            color: #333;
            font-size: 1.3rem;
        }
        
        @media (max-width: 768px) {
            .stat-number {
                font-size: 2.8rem;
            }
            
            .chart-container {
                height: 250px;
            }
        }
        
        @media (max-width: 480px) {
            body {
                padding: 10px;
            }
            
            .stat-number {
                font-size: 2.2rem;
            }
            
            .chart-container {
                height: 220px;
            }
            
            .card {
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="card stat-card">
            <div class="stat-title">إجمالي النساء المفقودات أو الضحايا</div>
            <div class="stat-number">240</div>
            <div class="stat-subtitle">(منذ ديسمبر 2024)</div>
        </div>
        
        <div class="card">
            <h2>📈 التطور الشهري للحالات الموثقة</h2>
            <div class="chart-container">
                <canvas id="timelineChart"></canvas>
            </div>
        </div>
        
        <div class="card">
            <h2>📍 التوزيع الجغرافي لحالات الاختفاء</h2>
            <div class="chart-container">
                <canvas id="regionalChart"></canvas>
            </div>
        </div>
        
        <p class="note">🔸 <b>تنويه:</b> البيانات مستندة إلى مصادر حقوقية مفتوحة 
        (<i>Reuters، SNHR، Amnesty</i>) وقد تكون غير مكتملة بسبب تعذّر التوثيق الميداني.</p>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // التأكد من تحميل المكتبة
            if (typeof Chart === 'undefined') {
                document.body.innerHTML = '<div style="text-align:center;padding:20px;color:#d90429;">عذراً، حدث خطأ في تحميل المكتبات. يرجى التحقق من اتصال الإنترنت وتحديث الصفحة.</div>';
                return;
            }
            
            try {
                // مخطط التطور الشهري
                const timelineCtx = document.getElementById('timelineChart').getContext('2d');
                const timelineChart = new Chart(timelineCtx, {
                    type: 'line',
                    data: {
                        labels: ["ديسمبر 2024", "يناير", "فبراير", "مارس", "أبريل", "مايو", "يونيو", "يوليو", "أغسطس", "سبتمبر", "أكتوبر"],
                        datasets: [{
                            label: 'عدد الحالات',
                            data: [8, 12, 15, 20, 25, 18, 30, 26, 22, 34, 30],
                            borderColor: '#ff7f0e',
                            backgroundColor: 'rgba(255, 127, 14, 0.1)',
                            borderWidth: 3,
                            tension: 0.4,
                            pointBackgroundColor: '#ff7f0e',
                            pointRadius: 5,
                            pointHoverRadius: 7
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                grid: {
                                    color: 'rgba(0,0,0,0.05)'
                                }
                            },
                            x: {
                                grid: {
                                    display: false
                                }
                            }
                        }
                    }
                });
                
                // مخطط التوزيع الجغرافي
                const regionalCtx = document.getElementById('regionalChart').getContext('2d');
                const regionalChart = new Chart(regionalCtx, {
                    type: 'bar',
                    data: {
                        labels: ["الغاب", "اللاذقية", "دمشق", "حلب", "درعا"],
                        datasets: [{
                            label: 'عدد الحالات',
                            data: [28, 16, 9, 7, 4],
                            backgroundColor: '#118ab2',
                            borderColor: '#0a6c8c',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                grid: {
                                    color: 'rgba(0,0,0,0.05)'
                                }
                            },
                            x: {
                                grid: {
                                    display: false
                                }
                            }
                        }
                    }
                });
                
                // إعادة رسم المخططات عند تغيير حجم النافذة
                window.addEventListener('resize', function() {
                    timelineChart.resize();
                    regionalChart.resize();
                });
                
            } catch (error) {
                console.error('خطأ في إنشاء المخططات:', error);
                document.body.innerHTML = '<div style="text-align:center;padding:20px;color:#d90429;">عذراً، حدث خطأ في تحميل البيانات. يرجى تحديث الصفحة.</div>';
            }
        });
    </script>
</body>
</html>
